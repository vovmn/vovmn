1. С какими правами создаются новые каталоги в используемом Вами Linux? Какой командой можно изменить эти права на 770?
```bash
gamer@gamingpc:~/Documents/lab6$ mkdir papka1
gamer@gamingpc:~/Documents/lab6$ ls -l
total 4
drwxrwxr-x 2 gamer gamer 4096 Mar 27 08:59 papka1
```
Права rwx rwx r-x т.е 775
Изменить можно командой ```
```bash
chmod 775 papka1

gamer@gamingpc:~/Documents/lab6$ chmod 770 papka1 | ls -l
total 4
drwxrwx--- 2 gamer gamer 4096 Mar 27 08:59 papka1
gamer@gamingpc:~/Documents/lab6$ 

```

2. Создать пользователя Fred, установить ему пароль, который истекает 2022-04-25. Предупреждения об устаревании пароля должны начать выдаваться за месяц. Проверить, что предупреждение выдается.
```bash
sudo adduser --force-badname Fred; sudo chage -W 30 Fred; sudo chage -M 29 Fred;

gamer@gamingpc:~$ su Fred
Password: 
Warning: your password will expire in 29 days
```
3. Под пользователем Fred создать каталог /tmp/7. Зайти под другого пользователя (не root). Можете ли Вы удалить каталог /tmp/7? Почему? Можете ли создать файл /tmp/7/foo? Почему? Удалить файл /tmp/7/foo.
```bash
gamer@gamingpc:~$ sudo -u Fred mkdir /tmp/7;
gamer@gamingpc:~$ sudo -u gamer rm -rf /tmp/7;
rm: cannot remove '/tmp/7': Operation not permitted
gamer@gamingpc:~$ sudo -u gamer touch /tmp/7/foo;
touch: cannot touch '/tmp/7/foo': Permission denied
gamer@gamingpc:~$ sudo -u Fred touch /tmp/7/foo;
gamer@gamingpc:~$ sudo -u gamer rm /tmp/7/foo;
rm: remove write-protected regular empty file '/tmp/7/foo'? y
rm: cannot remove '/tmp/7/foo': Permission denied
```
Не хватает прав для выполнения операций
4. Найдите в системе все файлы с установленными битами SUID и посчитайте их количество. Проанализируйте список - для чего используются эти файлы?
```bash
find / -type f -perm /4000 -exec ls -l {} \; | wc -l
Много строк об отказе в доступе
wc -l выдает 45
Ядро, системные файлы, файлы конфигурации, если смотреть по строчкам которые выдал скрипт
```
5. Имеется файл script.sh с правами 730, владелец root, группа владельцев sys. Какие права минимально должны быть добавлены на файл, чтобы user2 (является членом sys) мог читать и исполнять этот файл? (укажите в численной и символьной нотации). Напишите 2 варианта команды.
```bash
750 
Берем вторую цифру: 5 (4 чтение; 0 запись; 1 исполнение) -> rwx, следовательно его можно читать и исполнять
Ибо рут и юзер в одной группе

chmod 750 script.sh
chmod g=rx script.sh
```
6. Какие символы (не менее 3 шт) могут содержаться в начале шифрованной строки пароля (второго столбца, разделитель «:») в /etc/shadow? Поясните, что означает каждый из этих символов (это связано с активностью учетной записи).
1) **`$`**: Обозначает, что используется специальный алгоритм хеширования для шифрования пароля. Например, `$1$` указывает на использование MD5, `$2a$` - на использование Blowfish, `$5$` - на использование SHA-256, `$6$` - на использование SHA-512.
    
2) **`!`**: Обозначает, что учетная запись пользователя заблокирована. Это означает, что пользователь не сможет выполнить вход в систему, пока не будет разблокирована администратором.
    
3) **`*`**: Обозначает, что пароль установлен, но учетная запись пользователя отключена (например, для временного отключения пользователя без удаления его учетной записи).
   
7. Зарегистрируйте пользователя test1, для которого запрещен вход в сеанс, имеющего домашний каталог /home/test1 и являющегося членом группы student.
```bash
gamer@gamingpc:~$ sudo useradd -m -d /home/test1 -g student test1;
gamer@gamingpc:~$ sudo usermod -s /usr/sbin/nologin test1;
gamer@gamingpc:~$ sudo passwd test1;
New password: 
Retype new password: 
passwd: password updated successfully

gamer@gamingpc:~$ su test1
Password: 
This account is currently not available.
```
8. Изучите файл /etc/passwd. Командой выберите всех пользователей, у которых оболочка по умолчанию - /bin/bash.
```bash
gamer@gamingpc:~$ grep '/bin/bash' /etc/passwd;
root:x:0:0:root:/root:/bin/bash
gamer:x:1000:1000:gamer:/home/gamer:/bin/bash
student:x:1001:1001:,,,:/home/student:/bin/bash
Fred:x:1002:1002:,,,:/home/Fred:/bin/bash
```
9. На каталог d1 установлены права drwx------. Какие права доступа минимально должны быть дополнительно установлены, чтобы user1 смог удалить файл f1 из каталога d1 (если user1 является владельцем файла, но не является владельцем каталога)? Объясните ответ.
```
drwx------ -> drwx----w-
```
10. На каталог d1 установлены права drwx------. Какие права доступа минимально должны быть дополнительно установлены, чтобы user1 смог удалить файл f1 (права -r--r--r--) из каталога d1 (если user1 не является ни владельцем файла, ни каталога)? Объясните ответ.
```
drwx------ -> drwx----w-
-r--r--r– -> -r--r--rw-
```
11. На каталог d1 установлены права drwx------. Какие права доступа минимально должны быть дополнительно установлены, чтобы user1 смог удалить файл f1 (права -r--r--r--) из каталога d1 (если user1 не является владельцем файла, но владеет каталогом)? Объясните ответ.
```
-r--r--r– -> -r--r--rw-
```
12. На каталог d1 установлены права drwx------. Какие права доступа минимально должны быть дополнительно установлены, чтобы user1 смог изменить файл f1 (права -r--r--r--) в каталоге d1 (если user1 является владельцем файла, но не является владельцем каталога)? Объясните ответ.
```
drwx------ -> drwx----w- 
-r--r--r– -> -rw-r--r--
```
13. На каталог d1 установлены права drwx------. Какие права доступа минимально должны быть дополнительно установлены, чтобы user1 смог изменить файл f1 (права -r--r--r--) в каталоге d1 (если user1 не является ни владельцем файла, ни каталога)? Объясните ответ.
```
drwx------ -> drwx----w-
-r--r--r– -> -r--r--rw-
```
14. На каталог d1 установлены права drwx------. Какие права доступа минимально должны быть дополнительно установлены, чтобы user1 смог изменить файл f1 (права -r--r--r--) в каталоге d1 (если user1 не является владельцем файла, но владеет каталогом)? Объясните ответ.
```
-r--r--r– -> -r--r--rw-
```
15. На каталог d1 установлены права drwx-w----. Достаточно ли этих прав, чтобы user1 смог создать файл f1 в каталоге d1 (если user1 входит в группу владельцев каталога)? Объясните ответ.
```
Да - Так как у группы  есть возможность на запись данных
```
16. Создайте каталог d2 и в нем подкаталоги. Комбинацией команд find, xargs и chmod установите права на все подкаталоги, равными -rwxr-x--x. Затем передайте каталог и подкаталоги рекурсивно во владение пользователю Fred. Может ли другой пользователь (не root) заходить в каталог?Проверьте.
```bash
gamer@gamingpc:~$ mkdir -p d2/subdir1 d2/subdir2 d2/subdir3
gamer@gamingpc:~$ find d2 -type d | xargs chmod -R 755
gamer@gamingpc:~$ sudo chown -R Fred d2
gamer@gamingpc:~$ cd d2
gamer@gamingpc:~/d2$ ls
subdir1  subdir2  subdir3
```
